<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CICD 从入门到实践 | 前端队长</title>
    <meta name="description" content="前端，JavaScript，Vue">
    <link rel="preload stylesheet" href="/fe-series-notes/assets/style.cd432ba3.css" as="style">
    <script type="module" src="/fe-series-notes/assets/app.9cde49b8.js"></script>
    <link rel="preload" href="/fe-series-notes/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/fe-series-notes/assets/chunks/framework.d5a27ec8.js">
  <link rel="modulepreload" href="/fe-series-notes/assets/chunks/theme.82414f0e.js">
  <link rel="modulepreload" href="/fe-series-notes/assets/engineer_cicd_CICD从入门到实践.md.61e100b5.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-99cf8a88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-99cf8a88 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-381568bf><div class="container" data-v-381568bf><div class="title" data-v-381568bf><div class="VPNavBarTitle has-sidebar" data-v-381568bf data-v-305adf00><a class="title" href="/fe-series-notes/" data-v-305adf00><!--[--><!--]--><!--[--><img class="VPImage logo" src="/fe-series-notes/logo.jpg" alt data-v-6db2186b><!--]--><!--[-->前端队长の博客<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-381568bf><div class="curtain" data-v-381568bf></div><div class="content-body" data-v-381568bf><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-381568bf><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-381568bf data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 🚀 前端工程化 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/engineer/" data-v-2f2cfafc><!--[-->从零搭建Vue3项目<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/engineer/vue3-cli/" data-v-2f2cfafc><!--[-->前端脚手架CLI<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/engineer/cicd/" data-v-2f2cfafc><!--[-->前端构建部署<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/engineer/monitor/" data-v-2f2cfafc><!--[-->前端监控<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/性能优化/" data-v-2f2cfafc><!--[-->前端性能优化<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 📘 框架原理 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/vue2原理剖析/" data-v-2f2cfafc><!--[-->vue2原理剖析<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/vue3原理剖析/" data-v-2f2cfafc><!--[-->vue3原理剖析<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/webpack通关秘籍/" data-v-2f2cfafc><!--[-->webpack通关秘籍<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/浏览器工作原理/" data-v-2f2cfafc><!--[-->浏览器工作原理<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 👨‍💻 技术专栏 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/Nest学习笔记/" data-v-2f2cfafc><!--[-->Nest学习笔记<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/TypeScript通关秘籍/" data-v-2f2cfafc><!--[-->TypeScript通关秘籍<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/左耳听风/" data-v-2f2cfafc><!--[-->左耳听风<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/重学前端/" data-v-2f2cfafc><!--[-->重学前端<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/前端进阶训练营/" data-v-2f2cfafc><!--[-->前端进阶训练营<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/玩转vue3全家桶/" data-v-2f2cfafc><!--[-->玩转vue3全家桶<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/大厂晋升指南/" data-v-2f2cfafc><!--[-->大厂晋升指南<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/fe-series-notes/10x程序员工作法/" data-v-2f2cfafc><!--[-->10x程序员工作法<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://vitepress.dev/guide/markdown" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->Markdown Extensions<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://daotin.github.io/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->🌐 Blog<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-381568bf data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-381568bf data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/daotin" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-381568bf data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/daotin" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-381568bf data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-99cf8a88 data-v-a97031cc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a97031cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a97031cc><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a97031cc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a97031cc data-v-687955bc><button data-v-687955bc>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-99cf8a88 data-v-54885d6c><div class="curtain" data-v-54885d6c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-54885d6c><span class="visually-hidden" id="sidebar-aria-label" data-v-54885d6c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible has-active" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>前端构建部署</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/fe-series-notes/engineer/cicd/Nginx%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Nginx从入门到实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/fe-series-notes/engineer/cicd/Docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Docker从入门到实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/fe-series-notes/engineer/cicd/CICD%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>CICD从入门到实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-99cf8a88 data-v-97b5189c><div class="VPDoc has-sidebar has-aside" data-v-97b5189c data-v-e9631fd0><!--[--><!--]--><div class="container" data-v-e9631fd0><div class="aside" data-v-e9631fd0><div class="aside-curtain" data-v-e9631fd0></div><div class="aside-container" data-v-e9631fd0><div class="aside-content" data-v-e9631fd0><div class="VPDocAside" data-v-e9631fd0 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>TOC</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9631fd0><div class="content-container" data-v-e9631fd0><!--[--><!--]--><!----><main class="main" data-v-e9631fd0><div style="position:relative;" class="vp-doc _fe-series-notes_engineer_cicd_CICD%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5" data-v-e9631fd0><div><h1 id="cicd-从入门到实践" tabindex="-1">CICD 从入门到实践 <a class="header-anchor" href="#cicd-从入门到实践" aria-label="Permalink to &quot;CICD 从入门到实践&quot;">​</a></h1><h2 id="前端部署" tabindex="-1">前端部署 <a class="header-anchor" href="#前端部署" aria-label="Permalink to &quot;前端部署&quot;">​</a></h2><p>部署（Deploy）指的是将构建后的新版本应用或者服务安装到目标环境（开发、测试或者生成）中。在前端项目中，部署相对简单，一般指的是将构建好的静态资源文件放在服务器上。</p><p>那么接下来我们看下，传统的手动部署方案和自动化部署方案的流程以及其对比。</p><h3 id="手动部署" tabindex="-1">手动部署 <a class="header-anchor" href="#手动部署" aria-label="Permalink to &quot;手动部署&quot;">​</a></h3><p>手动部署，顾名思义，就是我们手动将构建后的产物上传至目标服务器。其流程大致如下：</p><p><img src="/fe-series-notes/assets/image_AIsC-maOlO.b6373024.png" alt=""></p><ol><li>源码构建：在项目中执行构建命令，一般为 <code>npm run build</code>，在发布前的构建环节，我们一般会获取生成环境的配置信息然后进行编译\构建过程（代码效验、代码压缩、自动化测试等操作），最终生成可上线的构建产物。</li><li>连接服务器：使用 FTP 或者 SSH 工具连接服务器。</li><li>上传资源：将构建后的产物上传至相应的目录。</li><li>重启 nginx。</li></ol><p>手动部署的优点和缺点都是显而易见的：</p><ul><li>优点就是简单、门槛低，我们可以直接将构建产物拖动上传到服务器就完成了部署和发布的过程。</li><li>缺点就是效率低下，流程规范和稳定性差，并且安全风险高，无法回滚等。</li></ul><h3 id="自动化部署" tabindex="-1">自动化部署 <a class="header-anchor" href="#自动化部署" aria-label="Permalink to &quot;自动化部署&quot;">​</a></h3><p>每个人使用手动部署的方式不好管理，也容易冲突，所以现在都会用专门的平台来做这件事构建和部署，比如 jenkins。我们代码会提交到 gitlab 等代码库，然后 jenkins 从这些代码库里把代码下载下来进行 build，再把产物上传到服务器上。</p><p>流程和直接在本地构建上传差不多，只不过这样方便管理冲突、历史等，还可以跨项目复用一些东西。</p><p><img src="/fe-series-notes/assets/image_YBsyPSvyjo.9aa0c976.png" alt=""></p><p>构建、部署的过程最开始是通过 shell 来写，但写那个 shell 还是比较麻烦的。后来就支持了可视化的编排，可以被编排的这个构建、部署的流程叫做流水线 <code>pipeline</code>。比如 Jenkins 就是专门做 CI/CD 的 平台。</p><p>jenkins 支持 pipeline 的可视化编排，比写 shell 脚本的方式易用很多，可以在构建过程中加入自动化测试、静态代码检查等步骤。</p><p><img src="/fe-series-notes/assets/image_ZGGe-Kr32w.3bbf8b12.png" alt=""></p><p>除了构建、部署外，也可以加入一些自动化测试、静态代码检查等任务。 </p><p>这种自动化的构建、部署流程就叫做 CICD（持续集成和持续部署）。</p><p>现在，我们<strong>把构建、部署的流程管理了起来</strong>，但是不同代码的运行环境是不同的，比如 Node.js 服务需要安装 node，Java 服务需要安装 JRE 等，只把代码传上去并不一定能跑起来。</p><p>于是，我们还需要<strong>把环境管理起来</strong>。所以，现在的构建产物不再是直接上传服务器，而是生成一个 docker 镜像，上传到 docker 仓库，然后把这个 docker 镜像部署到服务器。</p><p><img src="/fe-series-notes/assets/image_-0x9kNAFVt.5a5b365d.png" alt=""></p><p><strong>总结</strong></p><p>自动化部署流程如下：</p><ol><li>获取代码：首先我们需要从远程仓库拉取最新的代码。在获取完代码之后我们还可以进行对代码的安全检查和单元测试的操作。</li><li>安装依赖：然后需要安装项目构建时所需要的依赖包为后面构建环节做准备。</li><li>构建源码：在获取完依赖之后，我们就需要对源码就行构建操作，生成构建产物。在构建完成之后，我们可以对构建后的产物进行检查，比如资源文件是不是过大等。</li><li>上传资源：在源码构建完毕之后我们就可以将构建产物上传至服务器或者 CDN。</li><li>通过构建完成：最后，最好有触达通知我们构建完成，本次自动化部署才算真正完成。</li></ol><h2 id="cicd-简介" tabindex="-1">CICD 简介 <a class="header-anchor" href="#cicd-简介" aria-label="Permalink to &quot;CICD 简介&quot;">​</a></h2><h3 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h3><p>CICD 包括 1 个 <code>CI</code> 和 2 个 <code>CD</code>。</p><p>CI 指持续集成（Continuous Integration），CD 指持续交付（Continuous Delivery）和 持续部署（Continuous Deployment），是一种软件开发实践。意思是通过一系列自动化的脚本执行，实现开发过程中的代码的交付和部署，能够快速交付，提高团队开发的效率。</p><h3 id="持续集成" tabindex="-1">持续集成 <a class="header-anchor" href="#持续集成" aria-label="Permalink to &quot;持续集成&quot;">​</a></h3><p>就是当将代码提交到版本控制系统时，能够<strong>自动化地进行构建、测试等操作以验证代码的质量</strong>。而不是独立地开发每个功能模块并在开发周期结束时一一提交。</p><p>每次集成都会通过自动化的构建（包括编译、发布、自动化测试等）来验证代码的质量，从而尽早地发现和修复问题。这样可以减少开发过程中的错误和问题，提高软件的质量。</p><p>举个例子，想象一个班级里的小朋友们正在一起搭建一个大型积木城堡。每个小朋友负责搭建城堡的一部分。为了确保每个部分都能很好地组合在一起，他们需要经常把各自的部分拼接在一起，检查是否有问题。这样，如果发现某个部分有问题，他们可以尽早修改，避免最后城堡搭建完成时发现问题，需要拆掉整个城堡重新搭建。</p><p>在软件开发中，持续集成就是这样一个过程，它帮助开发团队更高效地协作，确保软件的质量和稳定性。</p><p>以下是持续集成的一般流程：</p><p><strong>1、提交代码后自动触发 CI 流程</strong></p><ul><li>发人员在自己的分支上开发并提交代码；</li><li>CI 服务器会自动通过 webhook 检测到代码变更，自动触发 CI 流程；</li></ul><p><strong>2、进行代码质量检测和构建</strong></p><ul><li>然后会进行静态代码检测，通常是进行一些快速的错误检查过程，比如语法检查，如果有错误就直接终止流程。</li><li>进行完基础的代码检查之后，会进入自动构建环节，比如要进行代码效验、代码压缩、自动化测试等操作。</li><li>构建完成之后，会进行一些回归测试、自动化测试、集成测试以及压力测试等。</li><li>如果构建失败，CI 服务器会发送通知，开发人员可以通过构建报告、日志和版本控制系统等方式定位问题。</li><li>开发人员在定位问题后，需要及时解决问题并重新提交代码。</li><li>重复以上步骤，直到测试通过。</li></ul><p><strong>3、测试构建通过，则合并到主分支</strong></p><ul><li>如果测试通过，CI 服务器会自动将代码合并到主干分支；</li><li>CI 服务器会再次对主干代码进行编译、测试；</li><li>如果测试通过，CI 服务器会将代码部署到预发布环境供测试人员测试。</li></ul><h3 id="持续交付" tabindex="-1">持续交付 <a class="header-anchor" href="#持续交付" aria-label="Permalink to &quot;持续交付&quot;">​</a></h3><p>持续交付在持续集成的基础上，在构建成功后，自动化部署工具会将应用程序或镜像交付给 QA。</p><h3 id="持续部署" tabindex="-1">持续部署 <a class="header-anchor" href="#持续部署" aria-label="Permalink to &quot;持续部署&quot;">​</a></h3><p>持续部署（Continuous Deployment，简称 CD）是一种软件开发实践，**它要求在通过持续集成（CI）验证代码质量后，自动将代码部署到测试环境。**这样可以确保软件的新功能和修复迅速地推向用户，提高开发效率和响应速度。</p><p>让我们用一个简单的例子来解释持续部署：想象一个餐厅，厨师们不断地烹饪新的菜肴。在持续集成阶段，每道菜都会经过严格的品尝和检查，确保口味和质量。持续部署就好比是将这些菜肴迅速地送到顾客的餐桌上，让顾客尽快品尝到美味的菜肴。这样一来，厨师们可以快速地了解顾客的反馈，根据反馈改进菜肴，提高顾客满意度。</p><p>在软件开发中，持续部署可以帮助开发团队更快地将新功能和修复推向用户，并根据用户反馈进行优化。这有助于提高软件质量和用户体验，同时提高开发团队的工作效率。</p><details class="details custom-block"><summary>❓ 持续交付和持续部署的区别是什么？</summary><p>由于在实际的项目开发中，我们一般不会持续部署到生产环境，因为还未进行全方位的人工测试，所以我们<strong>一般都会自动化部署到开发或者测试环境</strong>，然后再经过自动化测试，或者人工测试通过后，再手动部署到生产环境。那么这个时候，我们的流程其实叫持续交付，而不是持续部署。</p><p>持续交付（Continuous Delivery，简称 CD）和持续部署（Continuous Deployment，也简称 CD）都是软件开发的实践，它们的目标是加速软件开发过程中的发布和部署。尽管它们的名称相似，但它们之间还是有一些关键区别的。</p><p>持续交付是指在持续集成的基础上，将软件的新版本自动推送到预生产或类生产环境，使得每个版本都可以随时部署到生产环境。在持续交付过程中，软件的发布需要经过人工审批，也就是说，开发团队可以决定何时将软件部署到生产环境。这为团队提供了一定程度的控制，以便在发布之前进行额外的测试或准备工作。</p><p>持续部署则是持续交付的自动化版本。在持续部署中，一旦代码通过了自动化测试和预生产环境的验证，它将自动部署到生产环境，而无需人工干预。这意味着软件的新功能和修复可以更快地推向用户，提高开发效率和响应速度。</p><p>总结一下，持续交付和持续部署的主要区别在于部署到生产环境的过程是否自动化。持续交付需要人工审批并决定何时将软件部署到生产环境，而持续部署则完全自动化，无需人工干预。</p></details><details class="details custom-block"><summary>❓ 持续部署的过程没有经过测试人员的手工测试就直接部署到生产环境了吗？那岂不是不够安全？</summary><p>在持续部署的过程中，虽然没有经过测试人员的手工测试，但在部署到生产环境之前，代码会经过一系列自动化测试。这些自动化测试包括单元测试、集成测试、系统测试和性能测试等，以确保代码的质量和性能。自动化测试可以在很大程度上保证软件的安全性和稳定性。</p><p>然而，自动化测试可能无法覆盖所有的测试场景，特别是一些复杂的、需要人工判断的场景。因此，在实际应用中，持续部署的策略通常取决于项目的需求和团队的经验。有些团队可能会选择在关键功能或者高风险变更上进行额外的手动测试，以确保软件的质量。</p><p>总之，持续部署的过程确实存在一定的风险，但通过结合自动化测试和适当的手动测试，可以在很大程度上降低风险。关键在于找到适合项目和团队的平衡点，以实现快速、安全的软件发布。</p></details><details class="details custom-block"><summary>❓ 如果加入了手动测试，是否就变成了持续交付而不是持续部署了？</summary><p>是的，如果在部署过程中加入了手动测试并需要人工审批，那么这个过程就更接近于持续交付而不是持续部署。持续交付允许开发团队在将软件部署到生产环境之前进行额外的手动测试和审批，从而确保软件的质量和安全性。</p><p>持续部署强调的是自动化部署到生产环境，而持续交付则为团队提供了更多的灵活性和控制权，以便在部署之前进行必要的手动测试和准备工作。实际上，很多团队会根据项目需求和风险评估，选择在持续部署和持续交付之间进行权衡和调整。</p></details><h3 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h3><p>CICD 的使用场景可以是：</p><ol><li>团队开发：多人协作开发时，CICD 可以自动化合并代码、运行测试、构建和部署等操作，提高团队开发效率和协作质量。</li><li>快速交付：对于需要频繁发布更新的应用，如移动应用、Web 应用、游戏等，采用 CICD 可以使发布流程更快捷、更稳定，缩短交付周期，提高用户满意度。</li><li>质量保证：CICD 可以自动化运行测试、代码检查等过程，发现潜在问题和错误，提高软件质量和稳定性。</li><li>系统集成：对于需要集成多个系统和服务的复杂应用，CICD 可以自动化进行集成测试和部署，提高整个系统的稳定性和一致性。</li></ol><p>总之，CICD 适用于需要频繁更新、稳定性要求高、快速交付的应用开发和运维场景，可以提高开发效率、软件质量和用户满意度。</p><h3 id="发展历史" tabindex="-1">发展历史 <a class="header-anchor" href="#发展历史" aria-label="Permalink to &quot;发展历史&quot;">​</a></h3><p>CICD 的发展历史可以概括为以下几个阶段：</p><ol><li>手动部署阶段：在软件开发的早期阶段，软件部署是一项繁琐的手动任务。开发人员需要手动将代码打包、上传和部署到生产环境中，这种方式容易出错且效率低下。</li><li>自动化构建和部署阶段：随着自动化构建工具（如 Maven、Gradle 等）和自动化部署工具（如 Shell 脚本、Puppet、Chef 等）的出现，使得软件构建和部署变得更加简单和高效。</li><li>持续集成阶段：随着代码库变得越来越复杂，需要更好的协作方式。CICD 的概念由 Martin Fowler 提出。</li></ol><h3 id="优缺点" tabindex="-1">优缺点 <a class="header-anchor" href="#优缺点" aria-label="Permalink to &quot;优缺点&quot;">​</a></h3><p>优点：</p><ol><li>自动化：CICD 可以自动化构建、测试、发布等流程，减少人工干预，提高效率。</li><li>快速反馈：CICD 能够快速反馈开发人员在代码编写、集成、测试等环节中存在的问题，从而提高软件的质量和稳定性。</li><li>可重复性：CICD 流程中的自动化能够确保每次构建都是相同的，避免了人为因素对软件质量的影响。</li><li>稳定性：CICD 可以提高发布过程的稳定性，降低发布时的风险，减少因发布引起的故障和影响。</li><li>效率：CICD 的自动化和可重复性能够提高开发和测试效率，减少重复劳动，节约时间和成本。</li></ol><p>缺点：</p><ol><li>实现成本高：CICD 需要大量的技术和资源投入，包括构建、测试、集成、部署等方面的工具、硬件、人员等，实现成本较高。</li><li>学习成本高：CICD 需要开发人员具备一定的技术和工具使用能力，需要学习新的工具和方法，学习成本较高。</li><li>安全问题：CICD 在自动化流程中可能会存在一些安全问题，如自动化测试环节可能会导致敏感数据泄露等问题，需要加强安全控制和审查。</li><li>难以应对复杂场景：CICD 在应对一些复杂场景时可能比较困难，需要投入更多的资源和精力进行开发和测试。</li><li>可能会出现误报：CICD 的自动化测试可能会出现误报，导致无效的发布回滚，需要进行一定的人工干预和判断。</li></ol><h2 id="cicd-实战" tabindex="-1">CICD 实战 <a class="header-anchor" href="#cicd-实战" aria-label="Permalink to &quot;CICD 实战&quot;">​</a></h2><h3 id="工具选择" tabindex="-1">工具选择 <a class="header-anchor" href="#工具选择" aria-label="Permalink to &quot;工具选择&quot;">​</a></h3><p>目前主流的 CICD 工具和平台有很多，以下列举一些比较常见的：</p><ol><li><strong>Jenkins</strong>：是目前最流行的开源 CICD 工具之一，可以自动化执行各种任务，包括构建、测试和部署软件，具有丰富的插件和可扩展性，能够支持各种编程语言和应用程序。但是，需要用户自己维护和管理，对于初学者来说可能有一定的学习曲线。</li><li><strong>GitLab CI</strong>：是 GitLab 平台自带的 CICD 工具，可以轻松地集成到 GitLab 代码库中，支持自动构建、测试和部署。你只需要在你项目中的根目录下加上 <code>.gitlab-ci.yml</code> 包含构建、测试和部署的脚本即可。GitLab 如果检测到仓库中有该文件，就会使用 <code>Gitlab Runner</code> 工具按照顺序运行你设置的构建、测试和部署的脚本。它的优点是易于设置和管理，缺点是对于大规模的项目可能不太适用。</li><li><strong>GitHub Actions</strong>：是 GitHub 平台自带的 CICD 工具，可以轻松地集成到 GitHub 代码库中，支持自动化构建、测试和部署。它的优点是免费、易于设置和管理，缺点是对于大规模的项目可能不太适用。</li></ol><div class="info custom-block"><p class="custom-block-title">💡 那么什么是 Github Action 中的 Action 呢？</p><p>在 CI/CD 中，比如抓取代码、运行测试、发布第三方服务等，这一个个操作点就是一个个的 Action。</p><p>这些 Action 操作是可以在多个项目中共享的，所以 Github 允许开发者将不同的操作也就是 action 处理为独立的脚本文件，放在 github action 平台上供其他开发者共享使用。同样的，如果你需要某个需求，也可以再 github 上找到同样公共的 action 即可。这样，CI/CD 流程就变成了一个个 action 的集合。</p><p>功能特点：</p><ul><li><code>workflow</code>：在 github action 中，每一次 CI/CD 的过程就是一个 workflow。</li><li><code>job</code>：一个 workflow 可以包含多个 job 任务。</li><li><code>step</code>：每个 job 由多个 step 构成。</li><li><code>action</code>：每个 step 可以依次执行一个或者多个 action。</li><li><code>社区支持</code>：github action 有着很好的社区支持，社区提供了众多的 action 可供选择。</li><li><code>收费方式</code>：GitHub 中公开的仓库免费，对于私有仓库提供一定的免费执行时间和空间，超出部分收费。</li></ul><p>参考：</p><ul><li><a href="https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" title="GitHub Actions 入门教程" target="_blank" rel="noreferrer">GitHub Actions 入门教程</a></li><li>操作手册：<a href="https://juejin.cn/post/7156957907890733063#heading-75" title="https://juejin.cn/post/7156957907890733063#heading-75" target="_blank" rel="noreferrer">https://juejin.cn/post/7156957907890733063#heading-75</a></li></ul></div><p>此外，还有 Travis CI，Circle CI 等工具。</p><h3 id="使用-github-action-实现自动部署-vuepress-静态网站" tabindex="-1">使用 Github Action 实现自动部署 Vuepress 静态网站 <a class="header-anchor" href="#使用-github-action-实现自动部署-vuepress-静态网站" aria-label="Permalink to &quot;使用 Github Action 实现自动部署 Vuepress 静态网站&quot;">​</a></h3><p><strong>Github Actions</strong>是基于<code>Github</code>的<code>持续集成服务</code>。其提供一台虚拟<code>服务器实例</code>，在该实例中允许通过自定义<code>Actions</code>执行一个或多个命令，以自动地操作代码、构建代码、测试代码、打包代码、发布代码、部署代码、登录远程服务器等。</p><p><strong>Github Actions 配置文件的常见字段：</strong></p><ul><li><code>name</code>表示工作名称，若不设置默认为<code>workflow文件</code>的文件名称。</li><li><code>on</code>表示触发事件，上述提到的<code>Webhooks</code>可定义一个或多个<code>Webhooks</code>，通常是<code>push</code>与<code>pull_request</code>。<code>Webhooks</code>要指定操作的分支，通常是<code>master</code>或<code>main</code>。</li><li><code>jobs</code>表示任务列表，使用对象表示，对象属性表示任务名称，会在<code>Actions</code>的执行时显示。 <ul><li><strong><code>name</code></strong>：任务名称</li><li><strong><code>runs-on</code></strong>：虚拟机环境，可选<code>ubuntu-latest/windows-latest/macos-latest</code></li><li><strong><code>needs</code></strong>：执行任务的依赖顺序</li><li><strong><code>steps</code></strong>：执行步骤，每个任务可将需执行的内容划分为不同步骤 <ul><li><code>name</code>：步骤名称</li><li><code>uses</code>：官方与第三方<code>Actions</code></li><li><code>with</code>：<code>Actions</code>的入参</li><li><code>run</code>：执行命令</li><li><code>env</code>：环境变量</li></ul></li></ul></li></ul><h4 id="基于-github-提供的持续集成服务部署一个静态站点" tabindex="-1">基于 Github 提供的持续集成服务部署一个静态站点 <a class="header-anchor" href="#基于-github-提供的持续集成服务部署一个静态站点" aria-label="Permalink to &quot;基于 Github 提供的持续集成服务部署一个静态站点&quot;">​</a></h4><p>1、生成一个 Github Token</p><p>打开 Github 设置，点击 Developer settings，再点击 Personal access tokens，再点击 Generate new token。在 Note 中输入备注信息，例如 GA_TOKEN。在 Select scopes 中选择 repo 与 workflow。</p><p><img src="/fe-series-notes/assets/image_oKv8DARSLN.3914bc6c.png" alt=""></p><p>2、在项目仓库中创建 Actions Secret（比如<code>VUEPRESS_GA_TOKEN</code>）</p><p><img src="/fe-series-notes/assets/image_oQD2DHNnJ1.a0c91fc8.png" alt=""></p><p>3、编写 Github Actions 配置文件</p><p>在项目根目录中创建 <code>.github/workflow/deploy.yml</code>文件。</p><p>示例代码：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Deploy to GitHub Pages</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">on</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">push</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">branches</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 这里定义了一个作业deploy，该作业运行在ubuntu-latest操作系统上。作业中包含了三个步骤：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 1、使用actions/checkout action来checkout代码；</span></span>
<span class="line"><span style="color:#6A737D;"># 2、设置node版本；</span></span>
<span class="line"><span style="color:#6A737D;"># 3、安装依赖并构建项目；</span></span>
<span class="line"><span style="color:#6A737D;"># 4、使用peaceiris/actions-gh-pages action来将构建好的文件发布到gh-pages分支上。</span></span>
<span class="line"><span style="color:#85E89D;">jobs</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">deploy</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;">#任务名称</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">runs-on</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">steps</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Checkout</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">uses</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">actions/checkout@v2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Set Node Version</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">uses</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">actions/setup-node@v3</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">with</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#85E89D;">node-version</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">16</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#85E89D;">cache</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">npm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Install and build</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">run</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">npm install &amp;&amp; npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">Deploy</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">uses</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">peaceiris/actions-gh-pages@v3</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#85E89D;">with</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#85E89D;">personal_token</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">${{ secrets.VUEPRESS_GA_TOKEN }}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#85E89D;">publish_dir</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">./docs/.vuepress/dist</span></span></code></pre></div><p>当该 Github Action 运行后，<strong>会自动生成 gh-pages 分支</strong>。</p><p>4、然后，在设置中的 pages 界面，就可以看到已经部署在 gh-pagse 分支了。所以<strong>千万不要手动新建 gh-pages 分支</strong>，否则构建后的 dist 内容无法放在 gh-pages 分支中。</p><p>5、后续，当有内容 push 到 main 分支的时候，都会自动构建并发布到 gh-pages 分支。</p><h3 id="使用-gitlab-ci-工具实现-cicd-流程" tabindex="-1">使用 Gitlab CI 工具实现 CICD 流程 <a class="header-anchor" href="#使用-gitlab-ci-工具实现-cicd-流程" aria-label="Permalink to &quot;使用 Gitlab CI 工具实现 CICD 流程&quot;">​</a></h3><p>操作步骤</p><ol><li><p>在 <code>docs/.vuepress/config.js</code> 中设置正确的 <code>base</code>。</p><p>如果你打算发布到 <code>https://&lt;USERNAME or GROUP&gt;.gitlab.io/</code>，则可以省略这一步，因为 <code>base</code> 默认即是 <code>&quot;/&quot;</code>。</p><p>如果你打算发布到 <code>https://&lt;USERNAME or GROUP&gt;.gitlab.io/&lt;REPO&gt;/</code>（也就是说你的仓库在 <code>https://gitlab.com/&lt;USERNAME&gt;/&lt;REPO&gt;</code>），则将 <code>base</code> 设置为 <code>&quot;/&lt;REPO&gt;/&quot;</code>。</p></li><li><p>在 <code>.vuepress/config.js</code> 中将 <code>dest</code> 设置为 <code>public</code>。</p></li><li><p>在你项目的根目录下创建一个名为 <code>.gitlab-ci.yml</code> 的文件，无论何时你提交了更改，它都会帮助你自动构建和部署：</p></li></ol><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#85E89D;">image</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">node:14</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D;">pages</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">cache</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">node_modules/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#9ECBFF;">yarn install</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># npm install</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#9ECBFF;">yarn build</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># npm run docs:build</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">artifacts</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">paths</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#9ECBFF;">public</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">only</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    - </span><span style="color:#9ECBFF;">main</span></span></code></pre></div><ol><li>然后在“流水线”中就可以看到构建的进度：</li></ol><p><img src="/fe-series-notes/assets/image_V2npyz0p_f.f95fa96e.png" alt=""></p><ol><li>最后在“部署”-“Pages”页面，就可以看到部署成功后的页面链接。</li></ol><p><img src="/fe-series-notes/assets/image_ZQJsGuwKwo.6a063b24.png" alt=""></p><blockquote><p><strong>注意：由于 Gitlab Pages 默认会部署在<code>public</code>文件夹，所以我们需要将 dest 输出到根目录下的 public 文件夹。</strong></p></blockquote><p>我之前没有设置 dest，然后使用的是下面的代码：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">yarn install</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># npm install</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">yarn build</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># npm run docs:build</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">mkdir public</span></span>
<span class="line"><span style="color:#E1E4E8;">  - </span><span style="color:#9ECBFF;">mv ./docs/.vuepress/dist public</span></span></code></pre></div><p>按理来说，也是可以的部署成功的，结果流水线是通过的，但是“部署”-“Pages”一直没有出现链接，目前还没找到原因。</p><div class="tip custom-block"><p class="custom-block-title"><strong><em>(added in 20230405)</em></strong></p><p>经过请教 ChatGPT 老师，我找到了答案：</p><p>你的写法是将整个<code>./docs/.vuepress/dist</code>文件夹移动到<code>public</code>文件夹，而不是将<code>dist</code>文件夹中的内容移动到<code>public</code>文件夹。这样会导致文件结构不正确，GitLab Pages 可能无法正确部署你的项目。为了解决这个问题，你应该将<code>dist</code>文件夹中的内容移动到<code>public</code>文件夹，而不是整个文件夹。你可以使用以下命令：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">mv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">./docs/.vuepress/dist/</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">public/</span></span></code></pre></div><p>这个命令会将<code>./docs/.vuepress/dist</code>文件夹中的所有内容移动到<code>public</code>文件夹，而不是整个文件夹。这样，GitLab Pages 应该能够正确部署你的项目。</p></div><p>官方文档：<a href="https://docs.gitlab.cn/jh/ci/yaml/" title="https://docs.gitlab.cn/jh/ci/yaml/" target="_blank" rel="noreferrer">https://docs.gitlab.cn/jh/ci/yaml/</a></p><h3 id="使用-jenkins-实现-cicd-流程" tabindex="-1">使用 Jenkins 实现 CICD 流程 <a class="header-anchor" href="#使用-jenkins-实现-cicd-流程" aria-label="Permalink to &quot;使用 Jenkins 实现 CICD 流程&quot;">​</a></h3><p>从 Github Action 和 Gitlab CI 可以看出，各个代码仓库都有一套自己的 CICD 工作流，但是并不是通用的，就像 Github Action 的不能在 Gitlab 上使用一样。</p><p>那么，有没有一套 CICD 工具，可以使用在任何代码仓库或者自建的仓库呢？答案就是 Jenkins。</p><p>Jenkins 是一款开源 CI&amp;CD 软件，用于自动化各种任务，包括构建、测试和部署软件，能够满足任何项目的需要。</p><p>Jenkins 工具的特点：</p><ul><li>支持持续集成和持续交付</li><li>简易安装，跨平台</li><li>配置简单，可以通过可视化界面轻松设置和配置</li><li>超过 1000 多个插件，满足项目的任何需要</li><li>可以通过其插件架构进行扩展</li><li>可以轻松地在多台机器上分配工作，可以方便跨平台构建、测试和部署。</li></ul><p>官方文档：<a href="https://www.jenkins.io/zh/doc/#doc/pipeline/tour/getting-started#" title="https://www.jenkins.io/zh/doc/#doc/pipeline/tour/getting-started#" target="_blank" rel="noreferrer">https://www.jenkins.io/zh/doc/#doc/pipeline/tour/getting-started#</a></p><h4 id="jenkins-安装" tabindex="-1">Jenkins 安装 <a class="header-anchor" href="#jenkins-安装" aria-label="Permalink to &quot;Jenkins 安装&quot;">​</a></h4><p>通过 Docker 安装 Jenkins 2.346.3</p><details class="details custom-block"><summary>❓ <code>jenkins/jenkins</code>和<code>jenkinsci/blueocean</code>都是 Jenkins 的官方 Docker 镜像，但是它们有一些不同之处。</summary><p>jenkins/jenkins 是 Jenkins 核心的 Docker 镜像，它包含了 Jenkins 本身的安装文件和运行所需的环境。这个镜像提供了 Jenkins 的基础功能，但是不包括其他插件和工具。</p><p>jenkinsci/blueocean 则是基于 jenkins/jenkins 镜像构建的，它包含了 Jenkins 核心以及 Blue Ocean 插件。Blue Ocean 是一个 Jenkins 开发的全新的 Web 界面，提供了更直观、更易用的界面来展示构建、部署等信息。Blue Ocean 还提供了流水线编辑器、内置的可视化工具等功能，使得 Jenkins 在持续集成、交付、部署（CI/CD）方面更加强大和易用。</p><p>因此，jenkins/jenkins 相当于 Jenkins 的基础环境，而 jenkinsci/blueocean 则是在 jenkins/jenkins 基础上添加了 Blue Ocean 插件，提供了更多的功能和易用性。如果你需要使用 Blue Ocean 插件，那么使用 jenkinsci/blueocean 镜像会更加方便和高效。</p><p>下面就是 jenkinsci/blueocean 的可视化配置界面：</p><p><img src="/fe-series-notes/assets/image_krnPw-mv8Y.f67c1bc6.png" alt=""></p><p>参考：</p><ul><li><a href="https://developer.aliyun.com/article/892646" title="https://developer.aliyun.com/article/892646" target="_blank" rel="noreferrer">https://developer.aliyun.com/article/892646</a></li><li><a href="https://www.cnblogs.com/esofar/p/11163583.html" title="https://www.cnblogs.com/esofar/p/11163583.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/esofar/p/11163583.html</a></li></ul></details><p>具体步骤如下：</p><p>1、<strong>确保 CentOS 系统已经安装了 Docker。</strong></p><p>2、<strong>使用如下命令拉取 Jenkins 的 Docker 镜像：</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jenkins/jenkins</span></span></code></pre></div><p>3、<strong>创建用于 Jenkins 持久化存储的目录：</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/jenkins</span></span></code></pre></div><p><strong>4、通过如下命令创建并启动 Jenkins 容器</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8099</span><span style="color:#9ECBFF;">:8080</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">50099</span><span style="color:#9ECBFF;">:50000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/jenkins:/var/jenkins_home</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/bin/docker:/usr/bin/docker</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">myjenkins-con</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jenkins/jenkins</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#6A737D;"># 写成换行的形式如下</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8099</span><span style="color:#9ECBFF;">:8080</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">50099</span><span style="color:#9ECBFF;">:50000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/jenkins:/var/jenkins_home</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/bin/docker:/usr/bin/docker</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">myjenkins-con</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">jenkins/jenkins</span></span></code></pre></div><p>以下是每个选项的含义：</p><ul><li><code>-d</code>: 指定容器在后台运行（以“守护进程”模式运行）</li><li><code>-p 8099:8080</code>: 将主机端口 8099 映射到容器内部的端口 8080。这允许从主机访问容器中运行的 Jenkins 服务器。</li><li><code>-p 50099:50000</code>: 将主机端口 50099 映射到容器内部的端口 50000。这是用于构建代理的端口，可以使 Jenkins 从容器外部运行构建代理。</li><li><code>-v /var/run/docker.sock:/var/run/docker.sock</code>: 挂载 Docker 宿主机的 Unix 套接字文件/var/run/docker.sock 到容器内的同一文件，以便容器可以与宿主机上的 Docker 守护进程通信。这允许容器启动其他容器。</li><li><code>-v /usr/bin/docker:/usr/bin/docker</code>：把 Docker 二进制文件从主机挂载到容器，并允许容器执行 Docker 命令。</li><li><code>-v /usr/local/jenkins:/var/jenkins_home</code>: 将主机上的目录/usr/local/jenkins 挂载到容器内的目录/var/jenkins_home。这允许 Jenkins 服务器的配置和数据持久化。</li><li><code>--name myjenkins</code>: 将容器命名为“myjenkins”。这使得容器可以通过名称来引用，而不是通过容器 ID。</li><li><code>jenkins/jenkins</code>: 基于此镜像启动容器。该镜像是一个包含 Jenkins 服务器和其他工具的完整环境。</li></ul><p>查看容器是否启动成功：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#E1E4E8;">[root@daotin-aliyun </span><span style="color:#F97583;">~</span><span style="color:#E1E4E8;">]# docker ps</span></span>
<span class="line"><span style="color:#B392F0;">CONTAINER</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ID</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">IMAGE</span><span style="color:#E1E4E8;">                 </span><span style="color:#9ECBFF;">COMMAND</span><span style="color:#E1E4E8;">                  </span><span style="color:#9ECBFF;">CREATED</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">STATUS</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">PORTS</span><span style="color:#E1E4E8;">                                                                                      </span><span style="color:#9ECBFF;">NAMES</span></span>
<span class="line"><span style="color:#B392F0;">9dbfc89c60ed</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">jenkinsci/blueocean</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">&quot;/sbin/tini -- /usr/…&quot;</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">seconds</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ago</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">Up</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">seconds</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">0.0</span><span style="color:#9ECBFF;">.0.0:8099</span><span style="color:#E1E4E8;">-</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">8080/tcp,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">:::8099</span><span style="color:#E1E4E8;">-</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">8080/tcp,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.0</span><span style="color:#9ECBFF;">.0.0:50099</span><span style="color:#E1E4E8;">-</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">50000/tcp,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">:::50099</span><span style="color:#E1E4E8;">-</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">50000/tcp</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">myjenkins</span></span></code></pre></div><details class="details custom-block"><summary>❓ 通过 docker ps 查看，发现容器未成功启动</summary><p>在运行<code>docker run</code>命令时，使用<code>:z</code>或<code>:Z</code>选项来设置卷的安全标签。这将允许容器访问卷，例如：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8099</span><span style="color:#9ECBFF;">:8080</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">50099</span><span style="color:#9ECBFF;">:50000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/jenkins:/var/jenkins_home:z</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/bin/docker:/usr/bin/docker</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">myjenkins-con</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jenkins/jenkins</span></span></code></pre></div><p>使用<code>:z</code>选项可以在多个容器之间共享卷，而<code>:Z</code>选项将使卷仅对当前容器可用。请注意，这可能会更改你主机上的文件安全上下文（SELinux 标签），因此请谨慎使用。</p></details><details class="details custom-block"><summary>❓ 启动 jenkins 时，报错<code>docker: Error response from daemon</code></summary><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">docker:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Error</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">response</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">daemon:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">driver</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">failed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">programming</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">external</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">connectivity</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">endpoint</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">myjenkins</span><span style="color:#E1E4E8;"> (c5bcd8806264b30ee8cb6b3f41851ee91b6462081d227e479993a4275cb3d6fd):</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">iptables</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">failed:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">iptables</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--wait</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nat</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">DOCKER</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">/0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--dport</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">50099</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-j</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">DNAT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--to-destination</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">172.17</span><span style="color:#9ECBFF;">.0.4:50000</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">!</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">docker0:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">iptables:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">No</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chain/target/match</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">by</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">that</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">name.</span></span>
<span class="line"><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">exit</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)).</span></span></code></pre></div><p>解决：需要重启 docker：<code>sudo systemctl restart docker</code></p><p>参考：<a href="https://blog.csdn.net/whatday/article/details/86762264" title="https://blog.csdn.net/whatday/article/details/86762264" target="_blank" rel="noreferrer">https://blog.csdn.net/whatday/article/details/86762264</a></p></details><p><strong>5、在 Web 浏览器中输入以下 URL 以访问 Jenkins：</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">http://&lt;公网IP&gt;:8099</span></span></code></pre></div><p><strong>6、在初始登录页面上，输入初始密码</strong></p><p>该密码存储在容器中的文件<code>/var/jenkins_home/secrets/initialAdminPassword</code> 中。复制并粘贴该密码，然后单击&quot;Continue&quot;继续。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/jenkins_home/secrets/initialAdminPassword</span></span></code></pre></div><p>将输出管理员密码，将其复制并粘贴到 Jenkins 网页中，并单击“继续”按钮。</p><p><strong>遇到的问题</strong></p><details class="details custom-block"><summary>❓ 如果提示不存在文件 initialAdminPassword</summary><p>则可以使用指令：<code>docker logs myjenkins-con</code> ，然后在 log 中能发现密码。</p><p><img src="/fe-series-notes/assets/image_aNgm4L17Ij.d2ad8033.png" alt=""></p></details><p><strong>7、安装插件</strong></p><p>在下一个屏幕，你将会被问到是否想安装建议的插件，还是自己选择插件安装。点击”安装建议的插件“，安装过程将会开始。</p><p><img src="/fe-series-notes/assets/image_02ZWOox90f.3e3eb415.png" alt=""></p><p>最后，一旦安装完成，你将会被提示设置 Jenkins 管理员帐户和 URL，然后单击“保存并继续”按钮。</p><p>或者选择直接使用 admin 账号登录。</p><p><img src="/fe-series-notes/assets/image_Qz13q0J_2V.4f6ed1c3.png" alt=""></p><p>最后终于看到了 Jenkins 的主界面：</p><p><img src="/fe-series-notes/assets/image_XIR-GgmzMD.9e7bfc1f.png" alt=""></p><h4 id="使用-jenkins-实现前端项目构建部署" tabindex="-1">使用 Jenkins 实现前端项目构建部署 <a class="header-anchor" href="#使用-jenkins-实现前端项目构建部署" aria-label="Permalink to &quot;使用 Jenkins 实现前端项目构建部署&quot;">​</a></h4><p><strong>1、新建一个 jenkins-demo 项目，选择“自由项目”。</strong></p><p><img src="/fe-series-notes/assets/image_4dvGckhmaX.4fb05405.png" alt=""></p><p><strong>2、源码管理中填写源码的地址，账号密码，以及构建分支。</strong></p><p><img src="/fe-series-notes/assets/image_9V1SOpZGeJ.db01418c.png" alt=""></p><p><strong>3、在“系统管理”-“全局工具配置”中配置 Node 的版本（这里我们选择的是 Node16.18.1）</strong></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>该步骤可能不需要。</p></div><p><img src="/fe-series-notes/assets/image_1IWlib6sYg.c8541c3a.png" alt=""></p><p><img src="/fe-series-notes/assets/image_dAuX782tJA.abe46031.png" alt=""></p><p><strong>4、然后回到项目配置中，在“构建环境”配置项中选择刚才创建的 Node 版本</strong></p><p><img src="/fe-series-notes/assets/image_pXVlT4ON5J.77e17c6e.png" alt=""></p><p><strong>5、在执行步骤中，我们写下下面的 shell 脚本</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;"># 清除之前的docker容器</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vuepress1-demo-gitee-con</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vuepress1-demo-gitee-con</span></span>
<span class="line"><span style="color:#6A737D;">#构建 Docker 镜像</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vuepress1-demo-gitee</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.</span></span>
<span class="line"><span style="color:#6A737D;">#运行 Docker</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vuepress1-demo-gitee-con</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8081</span><span style="color:#9ECBFF;">:80</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vuepress1-demo-gitee</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>注意配置安全组设置。</p></div><p><img src="/fe-series-notes/assets/image_rkHhY6vStg.60190f63.png" alt=""></p><p>vuepress1-demo-gitee 的镜像是根据仓库中的 dockerfile 文件创建的。</p><p>仓库地址如下：<a href="https://gitee.com/daotin/vuepress1-demo-gitee" title="https://gitee.com/daotin/vuepress1-demo-gitee" target="_blank" rel="noreferrer">https://gitee.com/daotin/vuepress1-demo-gitee</a></p><p><strong>6、之后保存即可。最后回到项目主页面，点击“立即构建”，即可完成我们项目的构建和部署。</strong></p><p><img src="/fe-series-notes/assets/image_O_okY9FAD2.a7112903.png" alt=""></p><p>下面是构建时控制台的打印消息，作为参考：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark has-diff"><code><span class="line"><span style="color:#e1e4e8;">Started by user admin</span></span>
<span class="line"><span style="color:#e1e4e8;">Running as SYSTEM</span></span>
<span class="line"><span style="color:#e1e4e8;">Building in workspace /var/jenkins_home/workspace/jenkins-demo</span></span>
<span class="line"><span style="color:#e1e4e8;">The recommended git tool is: NONE</span></span>
<span class="line"><span style="color:#e1e4e8;">using credential 54a4c360-a278-404f-962e-1ca23f347e09</span></span>
<span class="line"><span style="color:#e1e4e8;">Cloning the remote Git repository</span></span>
<span class="line"><span style="color:#e1e4e8;">Cloning repository https://gitee.com/daotin/vuepress1-demo-gitee</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git init /var/jenkins_home/workspace/jenkins-demo # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;">Fetching upstream changes from https://gitee.com/daotin/vuepress1-demo-gitee</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git --version # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git --version # &#39;git version 2.30.2&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">using GIT_ASKPASS to set credentials</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git fetch --tags --force --progress -- https://gitee.com/daotin/vuepress1-demo-gitee +refs/heads/*:refs/remotes/origin/* # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git config remote.origin.url https://gitee.com/daotin/vuepress1-demo-gitee # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;">Avoid second fetch</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;">Checking out Revision f326851c9fee5e0fd9c848bd377644614e6d4d58 (refs/remotes/origin/master)</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git config core.sparsecheckout # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;"> &gt; git checkout -f f326851c9fee5e0fd9c848bd377644614e6d4d58 # timeout=10</span></span>
<span class="line"><span style="color:#e1e4e8;">Commit message: &quot;update docs/.vuepress/config.js.&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">First time build. Skipping changelog.</span></span>
<span class="line"><span style="color:#e1e4e8;">[jenkins-demo] $ /bin/bash /tmp/jenkins15277056948414898171.sh</span></span>
<span class="line"><span style="color:#e1e4e8;">Error response from daemon: No such container: vuepress1-demo-gitee-con</span></span>
<span class="line"><span style="color:#e1e4e8;">Error response from daemon: No such container: vuepress1-demo-gitee-con</span></span>
<span class="line"><span style="color:#e1e4e8;">DEPRECATED: The legacy builder is deprecated and will be removed in a future release.</span></span>
<span class="line"><span style="color:#e1e4e8;">            Install the buildx component to build images with BuildKit:</span></span>
<span class="line"><span style="color:#e1e4e8;">            https://docs.docker.com/go/buildx/</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Sending build context to Docker daemon  371.2kB</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Step 1/11 : FROM node:16.18.1 AS builder</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 993a4cf9c1e8</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 2/11 : WORKDIR /app</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Running in 18d1498abc63</span></span>
<span class="line"><span style="color:#e1e4e8;">Removing intermediate container 18d1498abc63</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; e2ebf9ae203f</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 3/11 : COPY package*.json ./</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 4dd5983f1980</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 4/11 : RUN npm install</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Running in 0a538a4f057c</span></span>
<span class="line"><span style="color:#e1e4e8;">[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated har-validator@5.1.5: this library is no longer supported</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated docsearch.js@2.6.3: This package has been deprecated and is no longer maintained. Please use @docsearch/js.</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated highlight.js@9.18.5: Support has ended for 9.x series. Upgrade to @latest</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m[91mnpm WARN deprecated mkdirp@0.3.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)</span></span>
<span class="line"><span style="color:#e1e4e8;">[0m</span></span>
<span class="line"><span style="color:#e1e4e8;">added 1312 packages, and audited 1313 packages in 3m</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">111 packages are looking for funding</span></span>
<span class="line"><span style="color:#e1e4e8;">  run `npm fund` for details</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">38 vulnerabilities (1 low, 12 moderate, 22 high, 3 critical)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">To address issues that do not require attention, run:</span></span>
<span class="line"><span style="color:#e1e4e8;">  npm audit fix</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Some issues need review, and may require choosing</span></span>
<span class="line"><span style="color:#e1e4e8;">a different dependency.</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Run `npm audit` for details.</span></span>
<span class="line"><span style="color:#e1e4e8;">[91mnpm notice</span></span>
<span class="line"><span style="color:#e1e4e8;">npm notice New major version of npm available! 8.19.2 -&gt; 9.6.3</span></span>
<span class="line"><span style="color:#e1e4e8;">npm notice Changelog: &lt;https://github.com/npm/cli/releases/tag/v9.6.3&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">npm notice Run `npm install -g npm@9.6.3` to update!</span></span>
<span class="line"><span style="color:#e1e4e8;">npm notice</span></span>
<span class="line"><span style="color:#e1e4e8;">[0mRemoving intermediate container 0a538a4f057c</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; cbf509836ba1</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 5/11 : COPY . .</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 5a4576c814db</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 6/11 : RUN npm run build</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Running in 94333095cbb9</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">&gt; vuepress-demo@1.0.0 build</span></span>
<span class="line"><span style="color:#e1e4e8;">&gt; vuepress build docs</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">wait Extracting site metadata...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply theme @vuepress/theme-default ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin container (i.e. &quot;vuepress-plugin-container&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin @vuepress/register-components (i.e. &quot;@vuepress/plugin-register-components&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin @vuepress/active-header-links (i.e. &quot;@vuepress/plugin-active-header-links&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin @vuepress/search (i.e. &quot;@vuepress/plugin-search&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin @vuepress/nprogress (i.e. &quot;@vuepress/plugin-nprogress&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">tip Apply plugin fulltext-search (i.e. &quot;vuepress-plugin-fulltext-search&quot;) ...</span></span>
<span class="line"><span style="color:#e1e4e8;">ℹ Compiling Client</span></span>
<span class="line"><span style="color:#e1e4e8;">ℹ Compiling Server</span></span>
<span class="line"><span style="color:#e1e4e8;">✔ Server: Compiled successfully in 22.81s</span></span>
<span class="line"><span style="color:#e1e4e8;">✔ Client: Compiled successfully in 35.92s</span></span>
<span class="line"><span style="color:#e1e4e8;">wait Rendering static HTML...</span></span>
<span class="line"><span style="color:#e1e4e8;">[2K[1Gsuccess Generated static files in docs/.vuepress/dist.</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Removing intermediate container 94333095cbb9</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 40e48ea01033</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 7/11 : FROM nginx:latest</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 3f8a00f137a0</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 8/11 : COPY nginx.conf /etc/nginx/nginx.conf</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Using cache</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; f225f4e08757</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 9/11 : COPY --from=builder /app/docs/.vuepress/dist /usr/share/nginx/html</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; ab1236158c1a</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 10/11 : EXPOSE 80</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Running in cda8b1d4008d</span></span>
<span class="line"><span style="color:#e1e4e8;">Removing intermediate container cda8b1d4008d</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 4c80d63c7651</span></span>
<span class="line"><span style="color:#e1e4e8;">Step 11/11 : CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; Running in 15cab61b2cb1</span></span>
<span class="line"><span style="color:#e1e4e8;">Removing intermediate container 15cab61b2cb1</span></span>
<span class="line"><span style="color:#e1e4e8;"> ---&gt; 3892379d4537</span></span>
<span class="line"><span style="color:#e1e4e8;">Successfully built 3892379d4537</span></span>
<span class="line"><span style="color:#e1e4e8;">Successfully tagged vuepress1-demo-gitee:latest</span></span>
<span class="line"><span style="color:#e1e4e8;">e1edd1d3dc616adb9c9e416a4525399575d1ac274b4ffefe7dc32de267b68059</span></span>
<span class="line"><span style="color:#e1e4e8;">Finished: SUCCESS</span></span></code></pre></div><h4 id="遇到的问题" tabindex="-1">遇到的问题 <a class="header-anchor" href="#遇到的问题" aria-label="Permalink to &quot;遇到的问题&quot;">​</a></h4><details class="details custom-block"><summary>❓ 如果运行报错：Jenkins 运行 shell 提示 docker: command not found</summary><p>在启动 Jenkins 容器时，需要将 docker 环境挂载到容器中：</p><p>在启动 Jenkins 容器时，可以使用<code>-v</code>或<code>--volume</code>参数将 Docker 套接字（socket）挂载到容器中，以便于在构建和部署时使用宿主机的 Docker 环境。具体操作步骤如下：</p><ol><li>首先，确认需要挂载的 Docker 套接字在宿主机上的路径，一般为 <code>/var/run/docker.sock</code>。</li><li>在启动 Jenkins 容器时，添加 <code>-v</code> 或 <code>--volume</code> 参数后，指定宿主机上 Docker 套接字的路径和容器中的挂载路径，如下所示：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8080</span><span style="color:#9ECBFF;">:8080</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jenkins/jenkins:lts</span></span></code></pre></div><p>这个命令表示，在启动 Jenkins 容器时，将宿主机上的 <code>/var/run/docker.sock</code> 挂载到了容器中的 <code>/var/run/docker.sock</code> 路径。</p><p>这样，在 Jenkins 构建和部署时，就可以通过该挂载实现与宿主机上的 Docker 环境协作，用于构建和运行 Docker 容器等操作。</p></details><h4 id="当有代码提交时-自动构建" tabindex="-1">当有代码提交时，自动构建 <a class="header-anchor" href="#当有代码提交时-自动构建" aria-label="Permalink to &quot;当有代码提交时，自动构建&quot;">​</a></h4><p><strong>1、选择“构建触发器”。选择“Git hook trigger for GITScm polling”。</strong></p><p><strong>2、当使用的是<code>github</code>仓库时，配置如下：</strong></p><ul><li>保已安装了必要的插件：在 Jenkins 中，确保已经安装了“GitHub plugin”和“Git plugin”。</li><li>配置 Jenkins 的 GitHub 插件：转到 Jenkins 主页 &gt; 管理 Jenkins &gt; 系统设置 &gt; GitHub 插件配置。在这里，您需要添加 GitHub 服务器的信息，如 API URL、凭据等。</li><li>创建一个新的 Jenkins 任务或选择一个现有任务，然后转到任务配置页面。</li><li>在“源代码管理”部分，选择“Git”，然后输入您的 Git 仓库 URL。在“凭据”下拉菜单中，选择之前在 GitHub 插件配置中添加的凭据。</li><li>在“分支”部分，指定要构建的分支。例如，如果您想要在代码提交到主分支时触发构建，可以输入<code>*/master</code>。</li><li>在“构建触发器”部分，<strong>勾选“GitHub hook trigger for GITScm polling”选项</strong>。这将启用 GitHub webhook，以便在代码提交到指定分支时自动触发构建。</li><li>配置 GitHub 仓库中的 Webhook：转到您的 GitHub 仓库 &gt; 设置 &gt; Webhooks，然后点击“Add webhook”。在“Payload URL”中，输入 Jenkins 服务器的 URL，格式为<code>http://&lt;jenkins-url&gt;/github-webhook/</code>。选择“Content type”为“application/json”，在“Which events would you like to trigger this webhook?”中选择“Just the push event”。点击“Add webhook”保存设置。</li></ul><p>现在，每当有代码提交到指定的 Git 分支时，Jenkins 都会自动启动构建。</p><p><strong>3、如果是<code>gitlab</code>仓库，操作如下</strong></p><ul><li>确保已安装必要的插件：在 Jenkins 中，确保已经安装了“GitLab Plugin”。</li><li>配置 Jenkins 的 GitLab 插件：转到 Jenkins 主页 &gt; 管理 Jenkins &gt; 系统设置 &gt; GitLab 配置。在这里，您需要添加 GitLab 服务器的信息，如 API URL、凭据等。</li><li>创建一个新的 Jenkins 任务或选择一个现有任务，然后转到任务配置页面。</li><li>在“源代码管理”部分，选择“Git”，然后输入您的 GitLab 仓库 URL。在“凭据”下拉菜单中，选择之前在 GitLab 插件配置中添加的凭据。</li><li>在“分支”部分，指定要构建的分支。例如，如果您想要在代码提交到主分支时触发构建，可以输入<code>*/master</code>。</li><li>在“构建触发器”部分，<strong>勾选“Build when a change is pushed to GitLab. GitLab webhook URL”</strong>。这将显示一个 GitLab webhook URL，稍后需要在 GitLab 仓库中配置。</li><li>配置 GitLab 仓库中的 Webhook：转到您的 GitLab 仓库 &gt; 设置 &gt; Integrations，然后点击“Add webhook”。在“URL”中，输入刚刚在 Jenkins 任务配置中显示的 GitLab webhook URL。在“Trigger”部分，勾选“Push events”。点击“Add webhook”保存设置。</li></ul><p>现在，每当有代码提交到指定的 Git 分支时，Jenkins 都会自动启动构建。</p><p><strong>4、如果使用的是<code>Gitee</code>，设置方式如下：</strong></p><ul><li>确保已安装必要的插件：在 Jenkins 中，确保已经安装了“Gitee plugin”。</li><li>在“系统设置”中配置 Gitee。</li></ul><p><img src="/fe-series-notes/assets/image_Dtdwz_Hw1L.3a2b5dd4.png" alt=""></p><ul><li>回到项目配置界面，在常用配置部分会自动选择刚才的 Gitee 配置。</li></ul><p><img src="/fe-series-notes/assets/image_cTIuwZF7k5.31d4e046.png" alt=""></p><ul><li>在构建触发器部分，勾选“Gitee webhook 触发构建”</li></ul><p><img src="/fe-series-notes/assets/image_q8dflgA0O6.06d7b0e3.png" alt=""></p><ul><li>配置 Gitee 仓库中的 Webhook：</li></ul><p>转到您的 Gitee 仓库 &gt; 设置 &gt; Webhooks，然后点击“添加 Webhook”。在“URL”中，输入刚刚在“构建触发器”中显示的 URL。webhook 的密码可以随便填。在“选择事件”部分，勾选“Push”。点击“保存”即可。</p><p><img src="/fe-series-notes/assets/image_cuThxrxEZA.adc9013d.png" alt=""></p><p>现在，每当有代码提交到指定的 Git 分支时，Jenkins 都会自动启动构建。</p><p><strong>遇到的问题</strong></p><details class="details custom-block"><summary>❓ 虽然配置好了，但是在测试的时候，发现一直报 403，也就是未推送到 Jenkins，也就没有自动构建。</summary><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#B392F0;">HTTP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ERROR</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">403</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">anonymous</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">is</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">missing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Job/Build</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">permission</span></span></code></pre></div><p>分析：此错误表明匿名用户没有执行构建任务的权限。</p><p>解决办法：</p><ul><li>在 Jenkins 中，导航到“系统管理”&gt;“全局安全配置”。</li><li>在“授权策略”部分，选择“基于项目的矩阵授权策略”</li><li>在表格中，找到“匿名用户”行。在“匿名用户”行中，找到“Job/Build”列，并勾选该列中的复选框。这将为匿名用户分配构建权限。</li><li>并且我们配置，只有登陆的用户才能进入 Jenkins 进行其他操作</li></ul><p><img src="/fe-series-notes/assets/image_BcaEQXzuKZ.ae831127.png" alt=""></p><p>这样当我们 Gitee 仓库有 push 推送时，就会触发 Jenkins 的自动构建。</p><p><img src="/fe-series-notes/assets/image_Zwpk_0Zq0M.da9d05de.png" alt=""></p></details><h3 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h3><ul><li><a href="https://www.zhihu.com/question/23444990/answer/89426003" title="如何理解持续集成、持续交付、持续部署？ - yumminhuang的回答" target="_blank" rel="noreferrer">如何理解持续集成、持续交付、持续部署？ - yumminhuang 的回答</a></li><li><a href="https://www.zhihu.com/question/23444990/answer/194401458" title="如何理解持续集成、持续交付、持续部署？ - 少敦的回答" target="_blank" rel="noreferrer">如何理解持续集成、持续交付、持续部署？ - 少敦的回答</a></li><li><a href="https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" title="https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="noreferrer">https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html</a></li><li><a href="https://juejin.cn/post/7127671229707714591#heading-9" title="https://juejin.cn/post/7127671229707714591#heading-9" target="_blank" rel="noreferrer">https://juejin.cn/post/7127671229707714591#heading-9</a></li><li><a href="https://www.cnblogs.com/xing1/p/15190821.html" title="https://www.cnblogs.com/xing1/p/15190821.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/xing1/p/15190821.html</a></li><li><a href="https://juejin.cn/post/6844903984419831815" title="https://juejin.cn/post/6844903984419831815" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903984419831815</a></li><li><a href="https://juejin.cn/post/6844903895299293191" title="https://juejin.cn/post/6844903895299293191" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903895299293191</a></li><li><a href="https://juejin.cn/post/6989589232700358687" title="https://juejin.cn/post/6989589232700358687" target="_blank" rel="noreferrer">https://juejin.cn/post/6989589232700358687</a></li><li><a href="https://juejin.cn/post/6844903870313791501" title="https://juejin.cn/post/6844903870313791501" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903870313791501</a></li><li><a href="https://juejin.cn/post/6887751398499287054" title="https://juejin.cn/post/6887751398499287054" target="_blank" rel="noreferrer">https://juejin.cn/post/6887751398499287054</a></li><li><a href="https://juejin.cn/post/6844904111826010125" title="https://juejin.cn/post/6844904111826010125" target="_blank" rel="noreferrer">https://juejin.cn/post/6844904111826010125</a></li><li><a href="https://juejin.cn/post/6913738207561515016" title="https://juejin.cn/post/6913738207561515016" target="_blank" rel="noreferrer">https://juejin.cn/post/6913738207561515016</a></li></ul><h2 id="一些灵魂拷问" tabindex="-1">一些灵魂拷问 <a class="header-anchor" href="#一些灵魂拷问" aria-label="Permalink to &quot;一些灵魂拷问&quot;">​</a></h2><p>参考：<a href="https://juejin.cn/post/7017710911443959839" title="2021 年当我们聊前端部署时，我们在聊什么" target="_blank" rel="noreferrer">2021 年当我们聊前端部署时，我们在聊什么</a></p><blockquote><p>现在前端代码、后端代码都部署在了我们的服务器上，共享服务器的网络带宽，其中前端代码是不会变动的、流量却很大，这样使得后端服务的可用带宽变小、支持的并发量下降。能不能把这部分静态资源的请求分离出去呢？最好能部署到离用户近一点的服务器，这样访问更快。</p></blockquote><p>确实可以，这就是 CDN 做的事情。</p><p>网上有专门的 CDN 服务提供商，它们有很多分散在各地的服务器，可以提供静态资源的托管。这些静态资源最终还是从我们的静态资源服务器来拿资源的，所以我们的静态资源服务器叫做源站。但是请求一次之后就会缓存下来，下次就不用再请求源站了，这样就减轻了我们服务器的压力，还能加速用户请求静态资源的速度。</p><blockquote><p>静态资源的部署还要考虑顺序问题。如何避免前端上线，影响未刷新页面的用户？ </p></blockquote><p>要先部署页面用到的资源，再部署页面，还有，需要在文件名加 hash 来触发缓存更新等，这些都是更细节的问题。</p><ul><li>前端代码从 tsx/jsx 到部署上线被用户访问，中间大致会经历哪些过程？ 上述过程中分别都有哪些考虑、指标和优化点，以满足复杂的业务需求？ </li><li>可能大部分同学都知道强缓存/协商缓存，那前端各种产物（HTML、JS、CSS、IMAGES 等）应该用什么缓存策略？以及为什么？ <ul><li>若使用协商缓存，但静态资源却不频繁更新，如何避免协商过程的请求浪费？ </li><li>若使用强缓存，那静态资源如何更新？ </li></ul></li><li>上线的版本发现有阻塞性 bug，如何做到秒级回滚，而非再次部署等 20 分钟甚至更久？ </li><li>部署环节如何方便配套做 AB 测试等？ <ul><li><a href="https://mp.weixin.qq.com/s?spm=wolai.workspace.0.0.1f6c378dIDv1e3&amp;__biz=MzA4ODUzNTE2Nw==&amp;mid=2451061549&amp;idx=2&amp;sn=2dde913290e7e9463548e1a66710fa8a&amp;scene=58&amp;subscene=0" title="当我们说做灰度发布的时候我们在做什么" target="_blank" rel="noreferrer">当我们说做灰度发布的时候我们在做什么</a></li></ul></li><li>...</li></ul><h2 id="进阶学习资料" tabindex="-1">进阶学习资料 <a class="header-anchor" href="#进阶学习资料" aria-label="Permalink to &quot;进阶学习资料&quot;">​</a></h2><ul><li><a href="https://q.shanyue.tech/deploy/" title="前端部署16讲" target="_blank" rel="noreferrer">前端部署 16 讲</a></li><li><a href="https://jspang.com/articlelist" title="https://jspang.com/articlelist" target="_blank" rel="noreferrer">https://jspang.com/articlelist</a></li><li><a href="https://juejin.cn/book/7034689774719860739" title="从 0 到 1 落地前端工程化" target="_blank" rel="noreferrer">从 0 到 1 落地前端工程化</a></li><li><a href="https://juejin.cn/book/6897616008173846543/section" title="从 0 到 1 实现一套 CI/CD 流程" target="_blank" rel="noreferrer">从 0 到 1 实现一套 CI/CD 流程</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-e9631fd0 data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><div class="edit-link" data-v-face870a><a class="VPLink link edit-link-button" href="https://github.com/Daotin/blog/edit/main/docs/engineer/cicd/CICD从入门到实践.md" target="_blank" rel="noreferrer" data-v-face870a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-face870a><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-149a99df>Last updated: <time datetime="2023-07-14T02:14:40.000Z" data-v-149a99df></time></p></div></div><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/fe-series-notes/engineer/cicd/Docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>Docker从入门到实践</span></a></div><div class="has-prev pager" data-v-face870a><!----></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-99cf8a88 data-v-f4388a15><div class="container" data-v-f4388a15><p class="message" data-v-f4388a15>Released under the CC BY-NC-ND 3.0</p><p class="copyright" data-v-f4388a15>Copyright © 2022-present Daotin</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"10x程序员工作法_index.md\":\"5f296d2f\",\"engineer_vue3-component_优先使用webp图片.md\":\"01dc86b8\",\"浏览器工作原理_index.md\":\"8867a4e5\",\"浏览器工作原理_v8工作原理.md\":\"e96b46dc\",\"个人成长_index.md\":\"2a0bea6e\",\"vue2组件精讲_index.md\":\"7cad0ced\",\"engineer_vue3-template_axios.md\":\"5d4be85f\",\"engineer_vue3-template_assets.md\":\"05a15366\",\"engineer_index.md\":\"ca7e9ce6\",\"engineer_vue3-cli_index.md\":\"a9e26c6a\",\"10x程序员工作法_本节课的目的.md\":\"20af59d5\",\"nest学习笔记_学习资料.md\":\"f5c77c9d\",\"engineer_vue3-component_svg预览组件.md\":\"61663cb4\",\"engineer_vue3-template_create-project.md\":\"b91da749\",\"engineer_vue3-template_element-plus.md\":\"51f15fc4\",\"engineer_vue3-template_environment.md\":\"950206ff\",\"engineer_vue3-template_develop-tool.md\":\"cd7bd2e0\",\"engineer_vue3-template_layouts.md\":\"3822f082\",\"engineer_vue3-template_pinia.md\":\"3aed41b8\",\"engineer_vue3-template_format.md\":\"21b07d96\",\"engineer_vue3-template_structure.md\":\"45dc9c6f\",\"engineer_vue3-template_mock.md\":\"70250180\",\"index.md\":\"eb1f5a84\",\"engineer_vue3-template_vue-router.md\":\"d533576c\",\"vue2原理剖析_vue事件机制_vue事件机制.md\":\"5dcc767d\",\"vue2原理剖析_index.md\":\"2178fc2c\",\"前端进阶训练营_学习安排.md\":\"1802a18f\",\"大厂晋升指南_index.md\":\"19e2252c\",\"前端进阶训练营_开班直播.md\":\"16a19db4\",\"大厂晋升指南_学习方法.md\":\"e14ea157\",\"左耳听风_index.md\":\"d3b63051\",\"左耳听风_技术趋势.md\":\"dc2027f0\",\"左耳听风_技术领导力.md\":\"d4cc2ff1\",\"vue2原理剖析_异步更新策略_异步更新策略和nexttick原理.md\":\"9efcfb33\",\"左耳听风_时间管理.md\":\"4faaaec1\",\"左耳听风_职业发展.md\":\"263160fb\",\"前端进阶训练营_二、重学javascript.md\":\"89711f0b\",\"vue2原理剖析_模版编译渲染原理_vnode的patch过程.md\":\"09d59a29\",\"vue2原理剖析_模版编译渲染原理_template如何转换成渲染函数的？.md\":\"191f8941\",\"性能优化_index.md\":\"d8685382\",\"性能优化_vue2-webpack性能优化.md\":\"4280b8df\",\"vue3原理剖析_vue3源码阅读.md\":\"f7e1002c\",\"vue3原理剖析_vuejs设计与实现.md\":\"eb807950\",\"性能优化_关于requestanimationframe的理解.md\":\"2ab7348d\",\"性能优化_chrome-devtools-performance.md\":\"1cba9e17\",\"性能优化_前端性能优化.md\":\"0dca77aa\",\"vue3原理剖析_index.md\":\"0980ee05\",\"性能优化_bluelink项目打包体积优化.md\":\"21a0e84e\",\"vue3原理剖析_响应式原理.md\":\"bc2a0acb\",\"vue3原理剖析_渲染原理.md\":\"0c492002\",\"engineer_cicd_index.md\":\"178eadf8\",\"engineer_monitor_index.md\":\"3aca7934\",\"nest学习笔记_index.md\":\"c9d3648b\",\"10x程序员工作法_10x程序员工作法.md\":\"36f7f742\",\"前端进阶训练营_index.md\":\"0ef7d603\",\"webpack通关秘籍_学什么.md\":\"5df99385\",\"engineer_vue3-template_auth.md\":\"58192edd\",\"个人成长_向上管理_如何让领导给你安排有技术深度的事情？.md\":\"a81d8a13\",\"engineer_monitor_sentry入门与实践.md\":\"0874ad27\",\"个人成长_学习方法_1-前端敏捷学习法.md\":\"0f84fdcc\",\"vue2组件精讲_01.md\":\"22166c80\",\"个人成长_学习方法_3-如何学习一门知识(大圣).md\":\"5d1f7a33\",\"webpack通关秘籍_webpack编写loader和plugin.md\":\"81e77620\",\"个人成长_学习方法_2-如何学习一门技术.md\":\"68e1512e\",\"个人成长_职场认知_10-思维转变.md\":\"d3988f10\",\"个人成长_职场认知_程序员到创业的思维转变.md\":\"4e647af5\",\"webpack通关秘籍_webpack构建原理.md\":\"ef8c973d\",\"个人成长_试用期_20-新入职一家公司，如何快速进入工作状态.md\":\"c6de7b00\",\"vue2原理剖析_模版编译渲染原理_渲染函数如何转换成vnode节点？.md\":\"8e7faf8c\",\"个人成长_职场认知_直面焦虑烦恼，谈怎么成长.md\":\"b75bd4ca\",\"个人成长_试用期_怎么快速熟悉新的项目？.md\":\"94b32ca8\",\"个人成长_试用期_如何在试用期内，快速证明自己的能力？.md\":\"a8629ed8\",\"浏览器工作原理_事件循环.md\":\"3593d69f\",\"个人成长_职场认知_关于职场人的能力.md\":\"11422537\",\"浏览器工作原理_已归档_01-chrome浏览器架构.md\":\"be448f4f\",\"浏览器工作原理_已归档_03-http请求流程：为什么很多站点第二次打开速度会很快？.md\":\"5eca5407\",\"左耳听风_技术变现.md\":\"3e9453f3\",\"typescript通关秘籍_index.md\":\"7a2be129\",\"vue2原理剖析_readme.md\":\"cf9a1fd6\",\"engineer_vue3-template_tailwind.md\":\"0bfe3094\",\"浏览器工作原理_已归档_08-调用栈：为什么javascript代码会出现栈溢出？.md\":\"cb542e48\",\"浏览器工作原理_已归档_02-tcp协议：如何保证页面文件能被完整送达浏览器？.md\":\"93fbe9de\",\"浏览器工作原理_已归档_04-导航流程：从输入url到页面展示，这中间发生了什么？.md\":\"28bfc6a9\",\"浏览器工作原理_已归档_05-渲染流程（上）：html、css和javascript，是如何变成页面的？.md\":\"f98bca52\",\"浏览器工作原理_已归档_06-渲染流程（下）：html、css和javascript，是如何变成页面的？.md\":\"843170d1\",\"浏览器工作原理_已归档_07-变量提升：javascript代码是按顺序执行的吗？.md\":\"75537eef\",\"浏览器工作原理_已归档_11-this：从javascript执行上下文的视角讲清楚this.md\":\"8307975b\",\"浏览器工作原理_已归档_14-编译器和解释器：v8是如何执行一段javascript代码的？.md\":\"07f4bd83\",\"浏览器工作原理_已归档_16-webapi：settimeout是如何实现的？.md\":\"acbe5ff4\",\"浏览器工作原理_已归档_17-webapi：xmlhttprequest是怎么实现的？.md\":\"cce349ff\",\"浏览器工作原理_已归档_19-promise：使用promise，告别回调函数.md\":\"855ac0a7\",\"浏览器工作原理_已归档_20-async↗await：使用同步的方式去写异步代码.md\":\"0d3272ae\",\"engineer_cicd_nginx从入门到实践.md\":\"c3587911\",\"浏览器工作原理_已归档_21-chrome开发者工具：利用网络面板做性能分析.md\":\"83aa4665\",\"浏览器工作原理_浏览器的多进程，页面渲染流程.md\":\"b3349b65\",\"玩转vue3全家桶_temp.md\":\"c233a903\",\"重学前端_index.md\":\"7ba11373\",\"重学前端_前端的学习路线与方法.md\":\"8ca39617\",\"浏览器工作原理_已归档_15-消息队列和事件循环：页面是怎么“活”起来的？.md\":\"e38e5bea\",\"vue2原理剖析_响应式原理_响应式原理.md\":\"17f73bd9\",\"浏览器工作原理_javascript执行机制.md\":\"1ae65f9c\",\"engineer_vue3-component_login.md\":\"2c17cf0e\",\"engineer_vue3-template_vite-config.md\":\"5fcc08d9\",\"前端进阶训练营_一、浏览器工作原理.md\":\"7b62d665\",\"vue2原理剖析_一个vue文件到页面渲染，经历什么哪些阶段？.md\":\"c10b6da3\",\"engineer_cicd_cicd从入门到实践.md\":\"61e100b5\",\"vue3原理剖析_要学习的内容.md\":\"ee69ec0d\",\"webpack通关秘籍_vue-cli默认构建配置优化.md\":\"8fa513f0\",\"vue3原理剖析_编译原理.md\":\"92e9d04f\",\"浏览器工作原理_已归档_10-作用域链和闭包：代码中出现相同的变量，javascript引擎是如何选择的？.md\":\"b1a6c06f\",\"webpack通关秘籍_webpack常用配置.md\":\"a41790ed\",\"性能优化_通过timing瀑布图分析前端性能问题.md\":\"52ca448b\",\"engineer_vue3-cli_从零开始构建脚手架.md\":\"a9eafa02\",\"webpack通关秘籍_webpack打包速度和体积优化.md\":\"0b606dd6\",\"重学前端_javascript篇.md\":\"bf4f773c\",\"玩转vue3全家桶_index.md\":\"a81d001e\",\"浏览器工作原理_学什么？.md\":\"6bd6ee59\",\"webpack通关秘籍_index.md\":\"ed34a037\",\"vue3原理剖析_vdom-diff.md\":\"c8057a61\",\"浏览器工作原理_已归档_18-宏任务和微任务：不是所有任务都是一个待遇.md\":\"0b074384\",\"engineer_cicd_docker从入门到实践.md\":\"ddae5151\",\"浏览器工作原理_已归档_13-垃圾回收：垃圾数据是如何自动回收的？.md\":\"72834a07\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"前端队长\",\"description\":\"前端，JavaScript，Vue\",\"base\":\"/fe-series-notes/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.jpg\",\"siteTitle\":\"前端队长の博客\",\"search\":{\"provider\":\"local\"},\"lastUpdated\":\"更新日期\",\"smoothScroll\":true,\"nav\":[{\"text\":\"🚀 前端工程化\",\"items\":[{\"text\":\"从零搭建Vue3项目\",\"link\":\"/engineer/\"},{\"text\":\"前端脚手架CLI\",\"link\":\"/engineer/vue3-cli/\"},{\"text\":\"前端构建部署\",\"link\":\"/engineer/cicd/\"},{\"text\":\"前端监控\",\"link\":\"/engineer/monitor/\"},{\"text\":\"前端性能优化\",\"link\":\"/性能优化/\"}]},{\"text\":\"📘 框架原理\",\"items\":[{\"text\":\"vue2原理剖析\",\"link\":\"/vue2原理剖析/\"},{\"text\":\"vue3原理剖析\",\"link\":\"/vue3原理剖析/\"},{\"text\":\"webpack通关秘籍\",\"link\":\"/webpack通关秘籍/\"},{\"text\":\"浏览器工作原理\",\"link\":\"/浏览器工作原理/\"}]},{\"text\":\"👨‍💻 技术专栏\",\"items\":[{\"text\":\"Nest学习笔记\",\"link\":\"/Nest学习笔记/\"},{\"text\":\"TypeScript通关秘籍\",\"link\":\"/TypeScript通关秘籍/\"},{\"text\":\"左耳听风\",\"link\":\"/左耳听风/\"},{\"text\":\"重学前端\",\"link\":\"/重学前端/\"},{\"text\":\"前端进阶训练营\",\"link\":\"/前端进阶训练营/\"},{\"text\":\"玩转vue3全家桶\",\"link\":\"/玩转vue3全家桶/\"},{\"text\":\"大厂晋升指南\",\"link\":\"/大厂晋升指南/\"},{\"text\":\"10x程序员工作法\",\"link\":\"/10x程序员工作法/\"},{\"text\":\"Markdown Extensions\",\"link\":\"https://vitepress.dev/guide/markdown\"}]},{\"text\":\"🌐 Blog\",\"link\":\"https://daotin.github.io/\"}],\"sidebar\":{\"/engineer/\":[{\"text\":\"从零搭建Vue3项目\",\"collapsed\":false,\"items\":[{\"text\":\"开发工具推荐\",\"link\":\"/engineer/vue3-template/develop-tool\"},{\"text\":\"创建项目\",\"link\":\"/engineer/vue3-template/create-project\"},{\"text\":\"目录结构\",\"link\":\"/engineer/vue3-template/structure\"},{\"text\":\"vite工程化配置\",\"link\":\"/engineer/vue3-template/vite-config\"},{\"text\":\"代码规范\",\"link\":\"/engineer/vue3-template/format\"},{\"text\":\"git提交规范\",\"link\":\"https://daotin.github.io/posts/2022/08/10/git-commit%E8%A7%84%E8%8C%83.html\"},{\"text\":\"引入ElementPlus组件库\",\"link\":\"/engineer/vue3-template/element-plus\"},{\"text\":\"引入TailWindCSS\",\"link\":\"/engineer/vue3-template/tailwind\"},{\"text\":\"配置vue-router\",\"link\":\"/engineer/vue3-template/vue-router\"},{\"text\":\"配置Pinia\",\"link\":\"/engineer/vue3-template/pinia\"},{\"text\":\"封装axios\",\"link\":\"/engineer/vue3-template/axios\"},{\"text\":\"配置mock\",\"link\":\"/engineer/vue3-template/mock\"},{\"text\":\"静态资源管理\",\"link\":\"/engineer/vue3-template/assets\"},{\"text\":\"界面布局layouts\",\"link\":\"/engineer/vue3-template/layouts\"},{\"text\":\"配置环境变量\",\"link\":\"/engineer/vue3-template/environment\"},{\"text\":\"权限控制\",\"link\":\"/engineer/vue3-template/auth\"}]},{\"text\":\"业务模块\",\"collapsed\":false,\"items\":[{\"text\":\"登录注册\",\"link\":\"/engineer/vue3-component/login\"},{\"text\":\"svg预览组件\",\"link\":\"/engineer/vue3-component/svg预览组件\"},{\"text\":\"优先使用webp图片\",\"link\":\"/engineer/vue3-component/优先使用webp图片\"}]}],\"/engineer/vue3-cli/\":[{\"text\":\"前端脚手架CLI\",\"collapsed\":false,\"items\":[{\"text\":\"从零开始构建脚手架\",\"link\":\"/engineer/vue3-cli/从零开始构建脚手架\"}]}],\"/engineer/cicd/\":[{\"text\":\"前端构建部署\",\"collapsed\":false,\"items\":[{\"text\":\"Nginx从入门到实践\",\"link\":\"/engineer/cicd/Nginx从入门到实践\"},{\"text\":\"Docker从入门到实践\",\"link\":\"/engineer/cicd/Docker从入门到实践\"},{\"text\":\"CICD从入门到实践\",\"link\":\"/engineer/cicd/CICD从入门到实践\"}]}],\"/engineer/monitor/\":[{\"text\":\"前端监控\",\"collapsed\":false,\"items\":[{\"text\":\"Sentry入门与实践\",\"link\":\"/engineer/monitor/Sentry入门与实践\"}]}]},\"outline\":\"deep\",\"outlineTitle\":\"TOC\",\"editLink\":{\"pattern\":\"https://github.com/Daotin/blog/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/daotin\"}],\"footer\":{\"message\":\"Released under the CC BY-NC-ND 3.0\",\"copyright\":\"Copyright © 2022-present Daotin\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>